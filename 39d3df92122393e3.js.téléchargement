(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,730592,t=>{"use strict";let e="conversation_drafts",r="chat_mode",a=()=>{try{let t=window.localStorage.getItem(e);if(!t)return{drafts:[]};let r=JSON.parse(t),a=Array.isArray(r?.drafts)?r.drafts:[],l="string"==typeof r?.userId?r.userId:void 0;return{drafts:a,userId:l}}catch{return{drafts:[]}}},l=t=>{try{window.localStorage.setItem(e,JSON.stringify({drafts:t.drafts,userId:t.userId}))}catch{}};t.s(["NULL_THREAD_DRAFT_ID",0,"null_thread","cleanupExpiredDrafts",0,()=>{try{let t=a(),e=Date.now(),r=t.drafts.filter(t=>e-t.timestamp<6048e5);r.length!==t.drafts.length&&(l({...t,drafts:r}),console.log(`[Draft Cleanup] Removed ${t.drafts.length-r.length} expired drafts`))}catch(t){console.warn("[Draft Cleanup] Failed to cleanup expired drafts:",t)}},"clearAllDrafts",0,()=>{try{window.localStorage.removeItem(e)}catch{}},"getDraftContentById",0,t=>{let e=a().drafts.find(e=>e.id===t);return e?e.content:null},"readChatMode",0,()=>{try{let t=window.localStorage.getItem(r);if("ask"===t||"agent"===t)return t;return null}catch{return null}},"removeDraft",0,t=>{let e=a(),r=e.drafts.filter(e=>e.id!==t);l({...e,drafts:r})},"upsertDraft",0,(t,e,r)=>{let u=a(),d=u.drafts.findIndex(e=>e.id===t),n={id:t,content:e,timestamp:"number"==typeof r?r:Date.now()};d>=0?u.drafts[d]=n:u.drafts.push(n),l(u)},"writeChatMode",0,t=>{try{window.localStorage.setItem(r,t)}catch{}}])},785720,t=>{"use strict";var e=t.i(50897),r=t.i(266431);let a=(0,r.createContext)(void 0);t.s(["TodoBlockProvider",0,({children:t})=>{let{autoOpenTodoBlock:l,toggleTodoBlock:u,isBlockExpanded:d}=(()=>{let[t,e]=(0,r.useState)({}),a=(0,r.useCallback)((t,r)=>{e(e=>{let a=e[t]||{autoId:null,manualIds:[]};return a.autoId===r?e:{...e,[t]:{autoId:r,manualIds:a.manualIds}}})},[]),l=(0,r.useCallback)((t,r)=>{e(e=>{let a=e[t]||{autoId:null,manualIds:[]},l=a.manualIds.includes(r),u=a.autoId===r;if(l){let l=a.manualIds.filter(t=>t!==r);return{...e,[t]:{autoId:a.autoId,manualIds:l}}}{if(u)return{...e,[t]:{autoId:null,manualIds:a.manualIds}};let l=[...a.manualIds,r];return{...e,[t]:{autoId:a.autoId,manualIds:l}}}})},[]),u=(0,r.useCallback)((e,r)=>{let a=t[e]||{autoId:null,manualIds:[]};return a.autoId===r||a.manualIds.includes(r)},[t]);return{messageTodoOpen:t,autoOpenTodoBlock:a,toggleTodoBlock:l,isBlockExpanded:u}})(),n=(0,r.useMemo)(()=>({autoOpenTodoBlock:l,toggleTodoBlock:u,isBlockExpanded:d}),[l,u,d]);return(0,e.jsx)(a.Provider,{value:n,children:t})},"useTodoBlockContext",0,()=>{let t=(0,r.useContext)(a);if(void 0===t)throw Error("useTodoBlockContext must be used within a TodoBlockProvider");return t}],785720)},559396,t=>{"use strict";var e=t.i(50897),r=t.i(266431);let a=(0,r.createContext)(null);function l({children:t}){let[l,u]=(0,r.useState)([]),[d,n]=(0,r.useState)(!1),o=(0,r.useMemo)(()=>({dataStream:l,setDataStream:u,isAutoResuming:d,setIsAutoResuming:n}),[l,d]);return(0,e.jsx)(a.Provider,{value:o,children:t})}function u(){let t=(0,r.useContext)(a);if(!t)throw Error("useDataStream must be used within a DataStreamProvider");return t}t.s(["DataStreamProvider",()=>l,"useDataStream",()=>u])},346978,t=>{t.v(e=>Promise.all(["static/chunks/41681bd53063ac50.js"].map(e=>t.l(e))).then(()=>e(63574)))}]);